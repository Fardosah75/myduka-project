#steps to use flask
#1.install flask  pip install flask
#2.import the class Flask from the framework flask
#3.create instance of the class the argument is the file name

#from the flask (framework) import the class Flask
#class is a blueprint & always starts with a capital
#object is the actual representation of the blueprint(class)

#route

#used to connect a url with python function
#@app.route('/')
#app-instance of class(object) created earlier
#('/') or ('/products') is the route
#def home():
    #return 'Hello world'

#this is the python function
#in flask all html files are inside a folder called templates
#in flask all css,images & js files are inside a folder called static folder
#inside flask we have render_template function used to return html file


#flask day 2
#databse->serverside->flask(main)->frontend
#Display products on main file
#1.import fetch data function from database file
#2.declare variable and call the function on its route and pass the table name as the argument

#flask jinja-
#this is a template engine for python flask
#it lets you mix python-like code inside html(helps us to perform python operations on html)

#how to write python-like code in html using jinja

#variables are always in double curly braces{{}}
#operations are in single curly braces with percentage signs{% %}
#All oprations must be closed{%endof%}


    #flask day 3(display data in table)


    #tag-keyword used to create element
    #its not must for an if statement to have an else in python


    #flask day 4
#navigation using navbar
#posting data(from ui->severside->database)
    # http methods
# get-used when fetching data on a resource(eg.database)
# post-used when sending data to a resoure(database)  
# put  

#things to  note
#each input on the form should have a name attribute
#key error - given the wrong name
#on main.py ,create a route that receives data from the form,checks the method and calls the insert function to add data
#in the form action write the route and also write the method
    #request in flask
#used to request data from the ui

    #redirect in flask
#directs you to a url
    #url for in flask
#takes in a function name then takes you to its route

    #sprofit per day
# select DATE(s.created_at) as day, sum((p.selling_price - p.buying_price)*s.quantity) from products as p join sales as s on p.id=s.pid group by DATE(s.created_at);

#sales per day
#select DATE(s.created_at) as day, sum(p.selling_price*s.quantity) from products as p join sales as s on p.id=s.pid group by DATE(s.created_at);
#def total_sales(month, year):
   # query = """
       # SELECT SUM(s.quantity * p.selling_price) AS total_sales
       # FROM products p
        #INNER JOIN sales s ON p.id = s.pid
        #WHERE EXTRACT(MONTH FROM s.sale_date) = %s
        #AND EXTRACT(YEAR FROM s.sale_date) = %s;
    #"""
    #curr.execute(query, (month, year))
    #sale = curr.fetchone()
    #return sale[0] if sale[0] is not None else 0
